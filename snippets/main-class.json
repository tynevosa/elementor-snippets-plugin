{
    "el_main_plugin_class": {
		"prefix": "el_main_plugin_class",
		"body": [
            "final class Elementor_Test_Extension {",
            "",
	            "const VERSION = '${1:Plugin Name}';",
	            "const MINIMUM_ELEMENTOR_VERSION = '${2:Plugin Name};",
	            "const MINIMUM_PHP_VERSION = '${3:Plugin Name};",
            "",
	            "private static $_instance = null;",
	            "public static function instance() {}",
            "",
	            "public function __construct() {}",
	            "public function init() {}",
	            "public function includes() {}",
            "}",
            "Elementor_Test_Extension::instance();"
		],
		"description": "The main plugin class should have basic information about the extensions, to check basic requirements and to load the required files to activate the plugin functionality."
    },
    "el_single_instance": {
		"prefix": "el_single_instance",
		"body": [
            "final class Elementor_Test_Extension {",
            "",
                "private static $_instance = null;",
            "",
                "public static function instance() {",
            "",
                    "if ( is_null( self::$_instance ) ) {",
                        "self::$_instance = new self();",
                    "}",
                    "return self::$_instance;",
            "",
                "}",
            "",
            "}",
            "Elementor_Test_Extension::instance();"
		],
		"description": "Single Instance. The plugin class should use a singleton design pattern to make sure it loads only once:"
    },
    "el_constructor_class": {
		"prefix": "el_constructor_class",
		"body": [
            "public function __construct() {",
            "",
                "add_action( 'init', [ $this, 'i18n' ] );",
                "add_action( 'plugins_loaded', [ $this, 'init' ] );",
            "",
            "}",
            "",
            "public function i18n() {",
            "",
                "load_plugin_textdomain( '${1:elementor-test-extension}' );",
            "",
            "}",
            "",
            "public function init() {",
            "",
                "// Plugin logic here...",
                "${2:#code}",
            "",
            "}"
		],
		"description": "The constructor should load localization functionality and initiate the plugin. The init process should check for basic requirements and then then run the plugin logic. Note that If one of the basic plugin requirements fails the plugin logic won’t run."
    },
    "el_version_elementor": {
		"prefix": "el_version_elementor",
		"body": [
            "const MINIMUM_ELEMENTOR_VERSION = '${3:1.0.0}';",
            "",
            "public function init() {",
            "",
                "// Check for required Elementor version",
                "if ( ! version_compare( ELEMENTOR_VERSION, self::MINIMUM_ELEMENTOR_VERSION, '>=' ) ) {",
                    "add_action( 'admin_notices', [ $this, 'admin_notice_minimum_elementor_version' ] );",
                    "return;",
                "}",
            "",
            "}",
            "",
            "public function admin_notice_minimum_elementor_version() {",
            "",
                "if ( isset( $_GET['activate'] ) ) unset( $_GET['activate'] );",
            "",
                "$message = sprintf(",
                    "/* translators: 1: Plugin name 2: Elementor 3: Required Elementor version */",
                    "esc_html__( '\"%1$s\" requires \"%2$s\" version %3$s or greater.', '${5:elementor-test-extension}' ),",
                    "'<strong>' . esc_html__( '${3:Elementor Test Extension}', '${5:elementor-test-extension}' ) . '</strong>',",
                    "'<strong>' . esc_html__( '${4:Elementor}', '${5:elementor-test-extension}' ) . '</strong>',",
                    "self::MINIMUM_ELEMENTOR_VERSION",
                ");",
            "",
                "printf( '<div class=\"notice notice-warning is-dismissible\"><p>%1$s</p></div>', $message );",
            "",
            "}"
		],
		"description": "The constructor should load localization functionality and initiate the plugin. The init process should check for basic requirements and then then run the plugin logic. Note that If one of the basic plugin requirements fails the plugin logic won’t run."
    },
    "el_if_elementor": {
		"prefix": "el_if_elementor",
		"body": [
            "public function init() {",
            "",
                "// Check if Elementor installed and activated",
                "if ( ! did_action( 'elementor/loaded' ) ) {",
                    "add_action( 'admin_notices', [ $this, 'admin_notice_missing_main_plugin' ] );",
                    "return;",
                "}",
            "",
            "}",
            "",
            "public function admin_notice_missing_main_plugin() {",
            "",
                "if ( isset( $_GET['activate'] ) ) unset( $_GET['activate'] );",
            "",
                "$message = sprintf(",
                    "/* translators: 1: Plugin name 2: Elementor */",
                    "esc_html__( '\"%1$s\" requires \"%2$s\" to be installed and activated.', '${3:elementor-test-extension}' ),",
                    "'<strong>' . esc_html__( '${1:Elementor Test Extension}', '${3:elementor-test-extension}' ) . '</strong>',",
                    "'<strong>' . esc_html__( '${2:Elementor}', '${3:elementor-test-extension}' ) . '</strong>'",
                ");",
            "",
                "printf( '<div class=\"notice notice-warning is-dismissible\"><p>%1$s</p></div>', $message );",
            "",
            "}"
		],
		"description": "As the extension extend Elementor functionality, it should check whether Elementor is installed and activated before loading the main functionality."
    },
    "el_add_styles": {
		"prefix": "el_add_styles",
		"body": [
            "public function init() {",
            "",
                "// Register Widget Styles",
                "add_action( 'elementor/frontend/after_enqueue_styles', [ $this, '${1:widget_styles}' ] );",
            "",
            "}",
            "",
            "public function ${1:widget_styles}() {",
            "",
                "wp_register_style( '${2:widget-1}', plugins_url( 'css/${2:widget-1}.css', __FILE__ ) );",
                "wp_register_style( '${3:widget-1}', plugins_url( 'css/${3:widget-1}.css', __FILE__ ) );",
            "",
            "}"
		],
		"description": "Registering Custom Styles: In some widgets we would like to register custom styles, this can be done with the elementor/frontend/after_enqueue_styles hook"
    },
    "el_add_scripts": {
		"prefix": "el_add_scripts",
		"body": [
            "public function init() {",
            "",
                "// Register Widget Scripts",
                "add_action( 'elementor/frontend/after_register_scripts', [ $this, '${1:widget_scripts}' ] );",
            "",
            "}",
            "",
            "public function ${1:widget_scripts}() {",
            "",
                "wp_register_script( '${2:widget-2}', plugins_url( 'js/libs/${2:widget-2}.js', __FILE__ ) );",
                "wp_register_script( '${3:widget-3}', plugins_url( 'js/${3:widget-3}.js', __FILE__ ) );",
                "wp_register_script( '${3:widget-4}', plugins_url( 'js/${3:widget-4}.js', __FILE__ ), [ 'jquery', '${2:widget-2}' ] );",
            "",
            "}"
		],
		"description": "Registering Custom Scripts. Other widgets need custom JS to run, in those cases we need to register scripts with the elementor/frontend/after_register_scripts hook"
    }
    
}